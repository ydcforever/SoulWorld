<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ydc.mapper.mpm.MPMHeaderMapper">
    <select id="count" resultType="Integer">
       select count(*) from mpm_header
    </select>
    <insert id="insert" parameterType="com.ydc.model.mpm.MPMHeader">
    insert into MPM_HEADER
		(
		DESCRIPTION,
		FILTER1,
		EDITION_NUMBER,
		FILTER2,
		SUPPLEMENT_NUMBER,
		FILTER3,
		TYPE_OF_DATA,
		GENERATION_DATE,
		GENERATION_TIME,
		RECORD_COUNT,
		EFFECTIVE_DATE,
		COPYRIGHT,
		FILTER4,
		FILENAME,
		HEADER_ID
		)
		VALUES(
		    #{description, jdbcType=VARCHAR},
			#{filter1, jdbcType=VARCHAR},
			#{editionNumber, jdbcType=VARCHAR},
			#{filter2, jdbcType=VARCHAR},
			#{supplementNumber, jdbcType=VARCHAR},
			#{filter3, jdbcType=VARCHAR},
			#{typeOfData, jdbcType=VARCHAR},
			#{generationDate, jdbcType=VARCHAR},
			#{generationTime, jdbcType=VARCHAR},
			#{recordCount, jdbcType=DECIMAL},
			#{effectiveDate, jdbcType=VARCHAR},
			#{copyright, jdbcType=VARCHAR},
			#{filter4, jdbcType=VARCHAR},
			#{filename, jdbcType=VARCHAR},
			#{headerId, jdbcType=VARCHAR} 
		)
    </insert>
    
	<insert id="batchInsert" parameterType="List">
		insert into MPM_HEADER
		(
		DESCRIPTION,
		FILTER1,
		EDITION_NUMBER,
		FILTER2,
		SUPPLEMENT_NUMBER,
		FILTER3,
		TYPE_OF_DATA,
		GENERATION_DATE,
		GENERATION_TIME,
		RECORD_COUNT,
		EFFECTIVE_DATE,
		COPYRIGHT,
		FILTER4,
		FILENAME,
		HEADER_ID
		)
		<foreach collection="list" item="item" index="index"
			separator="UNION ALL">
			select #{item.description, jdbcType=VARCHAR},
			#{item.filter1, jdbcType=VARCHAR},
			#{item.editionNumber, jdbcType=VARCHAR},
			#{item.filter2, jdbcType=VARCHAR},
			#{item.supplementNumber, jdbcType=VARCHAR},
			#{item.filter3, jdbcType=VARCHAR},
			#{item.typeOfData, jdbcType=VARCHAR},
			#{item.generationDate, jdbcType=VARCHAR},
			#{item.generationTime, jdbcType=VARCHAR},
			#{item.recordCount, jdbcType=DECIMAL},
			#{item.effectiveDate, jdbcType=VARCHAR},
			#{item.copyright, jdbcType=VARCHAR},
			#{item.filter4, jdbcType=VARCHAR},
			#{item.filename, jdbcType=VARCHAR},
			#{item.headerId, jdbcType=VARCHAR} FROM DUAL
		</foreach>
	</insert>
</mapper>
